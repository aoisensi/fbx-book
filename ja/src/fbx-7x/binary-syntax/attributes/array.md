# 配列型

配列型は以下のような追加ヘッダを持つ。

| 内容 | サイズ | 補足 |
|------|--------|------|
| [要素数](#num-elems) | 4 bytes | |
| [エンコーディング](#encoding) | 4 bytes | 圧縮形式など |
| [データのバイト長](#bytelen) | 4 bytes | ファイル中に占める長さ |

よって属性全体としては以下のようになる。

| 内容 | サイズ |
|------|--------|
| [型コード](README.md#type-codes) | 1 byte |
| [要素数](#num-elems) | 4 bytes |
| [エンコーディング](#encoding) | 4 bytes |
| [データのバイト長](#bytelen) | 4 bytes |
| [データ](#data) | (可変長、指定された長さ) |

## 要素数<span id="num-elems"><!-- --></span>

配列の要素の個数である。
バイト長ではない。

## エンコーディング<span id="encoding"><!-- --></span>

配列データ本体の圧縮形式など。
以下は一覧である。

| 値 | エンコーディング | 補足 |
|----|------------------|------|
| [`0`](#encoding--0) | 非圧縮 | 無加工 |
| [`1`](#encoding--1) | zlib 圧縮 | RFC 1950 |

これ以外の値は観測されていないが、 FBX 形式はプロプライエタリであるため他のエンコーディングが存在する可能性は否定できない。
とはいえ実用上はこの2つに対応すれば十分であろう。

### 0: 非圧縮<span id="encoding--0"><!-- --></span>

無加工。

### 1: zlib 圧縮<span id="encoding--1"><!-- --></span>

配列は zlib 圧縮されている。
zlib ヘッダが必要である (つまり生の deflate ストリームではない)。

## データのバイト長<span id="bytelen"><!-- --></span>

共通ヘッダと追加ヘッダを除いて、配列データ本体が FBX データ中に占めるサイズ。
配列が圧縮されていれば、展開後でなく圧縮後のバイト長を使う。

## データ<span id="data"><!-- --></span>

素朴に値を並べたものである。
パディングや順序の入れ替えなどは一切ない。
